@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Custom color definitions for better consistency */
  --text-primary: #000000; /* True black for primary text */
  --text-secondary: #4b5563; /* Gray-600 for better readability */
  --text-muted: #6b7280; /* Gray-500 for muted text (darker than before) */
  --text-hint: #9ca3af; /* Gray-400 for hints */
  --primary-blue: #1b3a6d; /* Main brand color */
  --primary-blue-hover: #152f5a; /* Hover state for brand color */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: "Inter", sans-serif;
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: "Inter", sans-serif;
  font-weight: 400;
  overflow-x: hidden; /* Prevent horizontal scroll on all screen sizes */
}

html {
  overflow-x: hidden; /* Ensure html also prevents horizontal scroll */
  box-sizing: border-box;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

/* Custom utility classes for consistent text colors */
.text-primary {
  color: var(--text-primary);
}

.text-secondary {
  color: var(--text-secondary);
}

.text-muted {
  color: var(--text-muted);
}

.text-hint {
  color: var(--text-hint);
}

/* Storage progress bar animations */
.storage-progress-bar {
  background: linear-gradient(90deg, currentColor 0%, currentColor 100%);
  background-size: 200% 100%;
  animation: progress-shimmer 2s ease-in-out infinite;
}

@keyframes progress-shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.storage-pulse {
  animation: storage-pulse 2s ease-in-out infinite;
}

@keyframes storage-pulse {
  0%,
  100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

/* Custom placeholder styling */
input::placeholder,
textarea::placeholder {
  color: var(--text-secondary) !important;
  opacity: 1;
}

input:focus::placeholder,
textarea:focus::placeholder {
  color: var(--text-muted) !important;
}

/* Custom styling for form elements */
.form-input {
  color: var(--text-primary) !important;
}

.form-input:focus {
  color: var(--text-primary) !important;
}

/* Ensure all input and textarea elements have black text */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="date"],
input[type="search"],
textarea,
select {
  color: #000000 !important;
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="date"]:focus,
input[type="search"]:focus,
textarea:focus,
select:focus {
  color: #000000 !important;
}

/* Search input specific styling */
.search-input {
  padding-left: 32px !important; /* 8px icon + 4px margin + 20px space */
}

.search-icon {
  left: 8px;
  z-index: 10;
}

/* Dropdown select styling */
.app-select {
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6,9 12,15 18,9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
  padding-right: 32px !important;
  min-width: 120px;
}

.bg-primary {
  background-color: var(--primary-blue);
}

.bg-primary-hover:hover {
  background-color: var(--primary-blue-hover);
}

.border-primary {
  border-color: var(--primary-blue);
}

.focus-ring-primary:focus {
  outline: none;
  border-color: var(--primary-blue);
  box-shadow: 0 0 0 2px rgba(27, 58, 109, 0.2);
}

/* Custom animations and transitions */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

/* Animation utility classes */
.animate-fade-in-up {
  animation: fadeInUp 0.8s ease-out forwards;
}

.animate-fade-in {
  animation: fadeIn 0.6s ease-out forwards;
}

.animate-slide-in-left {
  animation: slideInLeft 0.6s ease-out forwards;
}

.animate-slide-in-right {
  animation: slideInRight 0.6s ease-out forwards;
}

/* Stagger animation delays - smaller increments */
.stagger-1 {
  animation-delay: 0.05s;
}

.stagger-2 {
  animation-delay: 0.1s;
}

.stagger-3 {
  animation-delay: 0.15s;
}

.stagger-4 {
  animation-delay: 0.2s;
}

/* Initial hidden state for animations */
.animate-on-load {
  opacity: 0;
}

/* Smooth reveal without jarring movements */
.smooth-reveal {
  opacity: 0;
  animation: fadeIn 0.6s ease-out forwards;
}

/* Hover animations */
.hover-lift {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px 0 rgba(0, 0, 0, 0.1);
}

.hover-scale {
  transition: transform 0.2s ease-in-out;
}

.hover-scale:hover {
  transform: scale(1.02);
}

/* Smooth transitions for all interactive elements */
.smooth-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced button animations */
.btn-animate {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-animate:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-animate:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Loading state animations */
.loading-shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

/* Micro-interactions */
.micro-bounce {
  transition: transform 0.1s ease-in-out;
}

.micro-bounce:active {
  transform: scale(0.98);
}

/* Floating animation for special elements */
@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-4px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Gradient animation for special effects */
@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  background: linear-gradient(-45deg, #1b3a6d, #152f5a, #1b3a6d, #152f5a);
  background-size: 400% 400%;
  animation: gradient 3s ease infinite;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

/* Scrolling badge animation */
@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-25%);
  }
}

/* Gallery scroll animations */
@keyframes scroll-left {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes scroll-right {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}

.animate-scroll {
  animation: scroll 20s linear infinite;
  width: max-content;
  will-change: transform;
}

.animate-scroll-left {
  animation: scroll-left 30s linear infinite;
  width: max-content;
}

.animate-scroll-right {
  animation: scroll-right 30s linear infinite;
  width: max-content;
}

/* Line clamp utilities for text truncation */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  line-clamp: 3;
}

/* Prose styling for article content */
.prose {
  color: #374151;
  max-width: none;
}

.prose p {
  margin-bottom: 1.25em;
  line-height: 1.75;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  color: #111827;
  font-weight: 600;
  line-height: 1.25;
  margin-top: 2em;
  margin-bottom: 1em;
}

.prose h1 {
  font-size: 2.25em;
}

.prose h2 {
  font-size: 1.875em;
}

.prose h3 {
  font-size: 1.5em;
}

.prose h4 {
  font-size: 1.25em;
}

.prose strong {
  font-weight: 600;
  color: #111827;
}

.prose blockquote {
  border-left: 4px solid #e5e7eb;
  padding-left: 1em;
  font-style: italic;
  color: #6b7280;
}

/* Consistent spacing and sizing utilities */
.app-header {
  padding: 0.75rem 1rem; /* More compact padding */
}

@media (min-width: 768px) {
  .app-header {
    padding: 1rem 2rem; /* px-8 py-4 for desktop */
  }
}

.app-content {
  padding: 0.75rem; /* More compact on mobile */
}

@media (min-width: 768px) {
  .app-content {
    padding: 1.5rem; /* p-6 for desktop */
  }
}

.app-card {
  padding: 0.875rem; /* Slightly less padding for mobile */
  border-radius: 0.5rem; /* rounded-lg */
}

@media (min-width: 768px) {
  .app-card {
    padding: 1rem; /* Full padding on desktop */
  }
}

.app-form-input {
  padding: 0.5rem 0.75rem; /* px-3 py-2 */
  border-radius: 0.375rem; /* rounded-md */
  font-size: 0.875rem; /* text-sm */
}

.app-button {
  padding: 0.5rem 1rem; /* px-4 py-2 */
  border-radius: 0.375rem; /* rounded-md */
  font-size: 0.875rem; /* text-sm */
}

.app-button-small {
  padding: 0.375rem 0.75rem; /* px-3 py-1.5 */
  border-radius: 0.25rem; /* rounded */
  font-size: 0.75rem; /* text-xs */
}

.app-table-cell {
  padding: 0.75rem 1rem; /* px-4 py-3 */
}

.app-text-lg {
  font-size: 1rem; /* text-base on mobile */
  line-height: 1.5rem;
}

@media (min-width: 768px) {
  .app-text-lg {
    font-size: 1.125rem; /* text-lg on desktop */
    line-height: 1.75rem;
  }
}

.app-text-xl {
  font-size: 1.125rem; /* text-lg on mobile */
  line-height: 1.75rem;
}

@media (min-width: 768px) {
  .app-text-xl {
    font-size: 1.25rem; /* text-xl on desktop */
    line-height: 1.75rem;
  }
}

.app-text-2xl {
  font-size: 1.25rem; /* text-xl on mobile */
  line-height: 1.75rem;
}

@media (min-width: 768px) {
  .app-text-2xl {
    font-size: 1.5rem; /* text-2xl on desktop */
    line-height: 2rem;
  }
}

/* Mobile optimizations */
@media (max-width: 767px) {
  .app-header {
    border-bottom: 1px solid #e5e7eb;
    padding: 0.75rem 1rem; /* Reduce padding on mobile */
  }

  .app-card {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    margin-bottom: 0.5rem;
    border-radius: 0.5rem;
  }

  .app-content {
    padding: 0.75rem; /* Reduce content padding on mobile */
  }

  /* Ensure proper text wrapping */
  .truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  /* Mobile grid adjustments */
  .grid {
    gap: 1rem; /* Better gap spacing on mobile */
  }

  /* Dashboard cards mobile styling */
  .app-card {
    min-height: auto;
    padding: 1rem; /* Consistent padding */
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px 0 rgb(0 0 0 / 0.06);
  }

  /* Mobile responsive text */
  .app-text-2xl {
    font-size: 1.125rem; /* Smaller on mobile */
    line-height: 1.5rem;
  }

  .app-text-xl {
    font-size: 1rem; /* Smaller on mobile */
    line-height: 1.25rem;
    font-weight: 700; /* Ensure bold text */
  }

  /* Better mobile text handling */
  .break-words {
    word-break: break-word;
    hyphens: auto;
    overflow-wrap: break-word;
  }

  /* Ensure proper flex behavior in cards */
  .app-card .flex-grow {
    min-height: 2rem;
    display: flex;
    align-items: center;
  }

  /* Mobile button adjustments */
  .app-button {
    padding: 0.5rem 0.75rem; /* Smaller padding on mobile */
    font-size: 0.75rem; /* Smaller text on mobile */
  }

  /* Mobile header improvements */
  .app-header h1 {
    font-size: 1.125rem;
    line-height: 1.5rem;
  }

  /* Mobile activity improvements */
  .space-y-0 > * + * {
    margin-top: 0;
  }

  /* Ensure proper flex behavior on mobile */
  .flex-1 {
    min-width: 0;
  }

  .flex-shrink-0 {
    flex-shrink: 0;
  }

  /* Dashboard card specific mobile improvements */
  .min-h-\[100px\] {
    min-height: 110px; /* Slightly taller on mobile for better spacing */
  }

  /* Better mobile card content spacing */
  .app-card > div {
    height: 100%;
  }
}

/* Dashboard Layout Styles */
.dashboard-layout {
  height: 100vh;
  overflow: hidden;
}

.dashboard-sidebar {
  height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.dashboard-sidebar nav {
  overflow-y: auto;
  flex-grow: 1;
}

.dashboard-main {
  height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.dashboard-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Ensure proper mobile behavior */
@media (max-width: 1023px) {
  .dashboard-sidebar {
    height: 100vh;
    position: fixed;
    z-index: 50;
  }
}

/* Custom utility classes for dashboard */
.dashboard-grid {
  display: grid;
  gap: 1rem;
}

@media (min-width: 640px) {
  .dashboard-grid {
    gap: 1.5rem;
  }
}

.dashboard-card {
  background: white;
  border-radius: 0.5rem;
  border: 1px solid #f3f4f6;
  padding: 1rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  transition: all 0.2s ease-in-out;
}

@media (min-width: 640px) {
  .dashboard-card {
    padding: 1.5rem;
  }
}

.dashboard-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

.stats-card-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 0.75rem;
}

@media (min-width: 640px) {
  .stats-card-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
  }
}

@media (min-width: 1024px) {
  .stats-card-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.dashboard-main-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

@media (min-width: 1280px) {
  .dashboard-main-grid {
    grid-template-columns: 2fr 1fr;
  }
}

/* Weather Effects - Enhanced for Maximum Realism */

/* Enhanced Rain Animations with Natural Physics */
@keyframes rain {
  0% {
    transform: translateY(-100vh) translateX(0) scaleY(0.3);
    opacity: 0;
  }
  3% {
    opacity: 1;
    transform: translateY(-95vh) translateX(2px) scaleY(1);
  }
  97% {
    opacity: 1;
    transform: translateY(95vh) translateX(min(35px, 5vw)) scaleY(1);
  }
  100% {
    transform: translateY(100vh) translateX(min(40px, 6vw)) scaleY(0.8);
    opacity: 0;
  }
}

@keyframes drizzle {
  0% {
    transform: translateY(-100vh) translateX(0) scaleY(0.2);
    opacity: 0;
  }
  5% {
    opacity: 0.8;
    transform: translateY(-90vh) translateX(1px) scaleY(1);
  }
  95% {
    opacity: 0.8;
    transform: translateY(90vh) translateX(15px) scaleY(1);
  }
  100% {
    transform: translateY(100vh) translateX(20px) scaleY(0.6);
    opacity: 0;
  }
}

@keyframes heavyRain {
  0% {
    transform: translateY(-100vh) translateX(0) scaleY(0.4);
    opacity: 0;
  }
  2% {
    opacity: 1;
    transform: translateY(-96vh) translateX(3px) scaleY(1);
  }
  98% {
    opacity: 1;
    transform: translateY(96vh) translateX(min(50px, 8vw)) scaleY(1.2);
  }
  100% {
    transform: translateY(100vh) translateX(min(55px, 9vw)) scaleY(1);
    opacity: 0;
  }
}

@keyframes stormyRain {
  0% {
    transform: translateY(-100vh) translateX(0) rotate(-12deg) scaleY(0.5);
    opacity: 0;
  }
  2% {
    opacity: 1;
    transform: translateY(-96vh) translateX(4px) rotate(-12deg) scaleY(1);
  }
  98% {
    opacity: 1;
    transform: translateY(96vh) translateX(var(--wind-offset, 60px)) rotate(-12deg) scaleY(1.1);
  }
  100% {
    transform: translateY(100vh) translateX(var(--wind-offset, 65px)) rotate(-12deg) scaleY(0.9);
    opacity: 0;
  }
}

/* Rain Container Enhancements */
.rain-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 5;
  width: 100%;
  max-width: 100vw;
}

.rain-container.drizzle {
  filter: brightness(1.05) contrast(0.95);
}

.rain-container.heavy-rain {
  filter: brightness(0.95) contrast(1.15) saturate(1.1);
}

/* Enhanced Rain Drops */
.rain-drop {
  position: absolute;
  width: 1.5px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 20%, rgba(173, 216, 230, 0.6) 60%, rgba(255, 255, 255, 0.3) 100%);
  animation: rain ease-in-out infinite;
  border-radius: 0 0 50% 50%;
  filter: blur(0.3px);
  transform-origin: center;
  box-shadow: 0 0 1px rgba(255, 255, 255, 0.2);
}

.rain-drop.stormy {
  width: 2px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.9) 15%, rgba(173, 216, 230, 0.8) 40%, rgba(135, 206, 235, 0.6) 70%, rgba(255, 255, 255, 0.4) 100%);
  animation: stormyRain ease-in-out infinite;
  filter: blur(0.25px) brightness(1.1);
}

.rain-drop.heavy {
  width: 2.5px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.95) 10%, rgba(173, 216, 230, 0.9) 30%, rgba(135, 206, 235, 0.7) 60%, rgba(255, 255, 255, 0.5) 100%);
  animation: heavyRain ease-in-out infinite;
  filter: blur(0.2px) brightness(1.15);
}

/* Different rain drop speeds for more realism */
.rain-container.drizzle .rain-drop {
  animation-name: drizzle;
}

.rain-container.heavy-rain .rain-drop {
  animation-name: heavyRain;
}

/* Enhanced Storm Effects */
.rain-container.storm-rain {
  filter: brightness(0.9) contrast(1.2) saturate(1.1);
  animation: stormSway 3s ease-in-out infinite;
}

@keyframes stormSway {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-8px);
  }
  75% {
    transform: translateX(5px);
  }
}

/* Enhanced Snow Effects with Better Physics */
@keyframes snow {
  0% {
    transform: translateY(-100vh) translateX(0) rotate(0deg) scale(0.5);
    opacity: 0;
  }
  5% {
    opacity: 1;
    transform: translateY(-90vh) translateX(5px) rotate(45deg) scale(1);
  }
  25% {
    transform: translateY(-50vh) translateX(min(20px, 3vw)) rotate(180deg) scale(1.1);
  }
  50% {
    transform: translateY(0vh) translateX(min(40px, 6vw)) rotate(270deg) scale(1);
  }
  75% {
    transform: translateY(50vh) translateX(min(60px, 9vw)) rotate(360deg) scale(0.9);
  }
  95% {
    opacity: 1;
    transform: translateY(90vh) translateX(min(75px, 11vw)) rotate(450deg) scale(0.8);
  }
  100% {
    transform: translateY(100vh) translateX(min(80px, 12vw)) rotate(480deg) scale(0.6);
    opacity: 0;
  }
}

.snow-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 5;
  width: 100%;
  max-width: 100vw;
}

.snow-flake {
  position: absolute;
  color: rgba(255, 255, 255, 0.95);
  font-size: 12px;
  animation: snow ease-in-out infinite;
  user-select: none;
  text-shadow: 0 0 4px rgba(255, 255, 255, 0.6), 0 0 8px rgba(173, 216, 230, 0.3);
  filter: blur(0.5px);
}

/* Enhanced Cloud Effects with Different Types */
@keyframes clouds {
  0% {
    transform: translateX(-120px);
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  95% {
    opacity: 1;
  }
  100% {
    transform: translateX(min(calc(100vw + 120px), calc(100% + 120px)));
    opacity: 0;
  }
}

@keyframes cloudsFloat {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

.clouds-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 2;
  width: 100%;
  max-width: 100vw;
}

.cloud {
  position: absolute;
  background: rgba(255, 255, 255, 0.12);
  border-radius: 50px;
  animation: clouds linear infinite, cloudsFloat 8s ease-in-out infinite;
  filter: blur(1.5px);
  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.1);
}

.cloud-few {
  filter: blur(1px);
  background: rgba(255, 255, 255, 0.08);
}

.cloud-scattered {
  filter: blur(1.2px);
  background: rgba(255, 255, 255, 0.1);
}

.cloud-broken {
  filter: blur(1.8px);
  background: rgba(255, 255, 255, 0.15);
}

.cloud-overcast {
  filter: blur(2px);
  background: rgba(255, 255, 255, 0.2);
  box-shadow: inset 0 0 30px rgba(255, 255, 255, 0.15);
}

.cloud::before,
.cloud::after {
  content: "";
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50px;
}

.cloud::before {
  width: 50px;
  height: 30px;
  top: -15px;
  left: 10px;
}

.cloud::after {
  width: 60px;
  height: 20px;
  top: -10px;
  right: 10px;
}

/* Enhanced Lightning Effects with More Realism */
@keyframes lightning {
  0%,
  92%,
  100% {
    opacity: 0;
  }
  1%,
  3%,
  5% {
    opacity: 1;
    filter: brightness(2) contrast(1.5);
  }
  2%,
  4% {
    opacity: 0.4;
    filter: brightness(1.5) contrast(1.2);
  }
  6%,
  8% {
    opacity: 0.8;
    filter: brightness(1.8) contrast(1.3);
  }
  7% {
    opacity: 0.2;
  }
}

@keyframes lightningBolt {
  0%,
  94%,
  100% {
    opacity: 0;
    transform: scale(0.7) rotate(0deg) skewX(0deg);
  }
  1%,
  3%,
  5% {
    opacity: 1;
    transform: scale(1.1) rotate(-8deg) skewX(-5deg);
  }
  2%,
  4% {
    opacity: 0.6;
    transform: scale(0.9) rotate(5deg) skewX(3deg);
  }
  6% {
    opacity: 0.9;
    transform: scale(1.05) rotate(-3deg) skewX(-2deg);
  }
}

@keyframes lightningStreak {
  0%,
  96%,
  100% {
    opacity: 0;
    transform: translateY(0) scaleY(0) skewX(0deg);
  }
  1%,
  2% {
    opacity: 0.95;
    transform: translateY(0) scaleY(1) skewX(-10deg);
  }
  3%,
  4% {
    opacity: 0.7;
    transform: translateY(8px) scaleY(0.9) skewX(-8deg);
  }
  5% {
    opacity: 0.4;
    transform: translateY(15px) scaleY(0.7) skewX(-5deg);
  }
}

@keyframes atmosphericGlow {
  0%,
  95%,
  100% {
    opacity: 0;
    transform: scale(1);
  }
  1% {
    opacity: 0.3;
    transform: scale(1.2);
  }
  3% {
    opacity: 0.6;
    transform: scale(1.5);
  }
  5% {
    opacity: 0.4;
    transform: scale(1.8);
  }
  7% {
    opacity: 0.2;
    transform: scale(2);
  }
}

.lightning-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 6;
  overflow: hidden;
  width: 100%;
  max-width: 100vw;
}

.lightning-flash {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at 50% 15%, rgba(255, 255, 255, 0.9) 0%, rgba(173, 216, 230, 0.7) 15%, rgba(135, 206, 235, 0.5) 30%, rgba(70, 130, 180, 0.3) 50%, transparent 70%);
  animation: lightning 2.2s infinite;
  animation-delay: 0.8s;
  filter: blur(1px);
}

.lightning-flash::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 40%);
  animation: atmosphericGlow 2.5s infinite;
  animation-delay: 0.9s;
}

/* Enhanced Right-top lightning bolt */
.lightning-bolt {
  position: absolute;
  top: 6%;
  right: 10%;
  width: 90px;
  height: 140px;
  background: linear-gradient(45deg, transparent 35%, rgba(255, 255, 255, 1) 42%, rgba(173, 216, 230, 0.9) 47%, rgba(255, 255, 255, 1) 52%, rgba(135, 206, 235, 0.8) 57%, transparent 65%);
  clip-path: polygon(15% 0%, 35% 15%, 28% 18%, 55% 65%, 48% 100%, 25% 58%, 35% 55%, 8% 25%);
  animation: lightningBolt 2.4s infinite;
  animation-delay: 0.7s;
  filter: blur(0.8px) brightness(1.4) contrast(1.2);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 25px rgba(173, 216, 230, 0.6), 0 0 35px rgba(135, 206, 235, 0.4);
}

.lightning-bolt::before {
  content: "";
  position: absolute;
  top: -15px;
  left: -15px;
  right: -15px;
  bottom: -15px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(173, 216, 230, 0.2) 30%, transparent 60%);
  animation: lightningBolt 2.4s infinite;
  animation-delay: 0.7s;
  border-radius: 50%;
}

/* Lightning streaks */
.lightning-streaks {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
}

.lightning-streak {
  position: absolute;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), rgba(173, 216, 230, 0.6), transparent);
  transform-origin: top;
}

.lightning-streak-1 {
  top: 15%;
  right: 18%;
  width: 2px;
  height: 40px;
  animation: lightningStreak 3s infinite;
  animation-delay: 1.2s;
  transform: rotate(-20deg);
}

.lightning-streak-2 {
  top: 12%;
  right: 15%;
  width: 1.5px;
  height: 60px;
  animation: lightningStreak 3.2s infinite;
  animation-delay: 1.5s;
  transform: rotate(-35deg);
}

.lightning-streak-3 {
  top: 20%;
  right: 20%;
  width: 1px;
  height: 30px;
  animation: lightningStreak 2.8s infinite;
  animation-delay: 1.8s;
}

/* Sun Rays Effect */
@keyframes sunRays {
  0% {
    transform: rotate(0deg) scale(0.8);
    opacity: 0.2;
  }
  25% {
    opacity: 0.6;
  }
  50% {
    transform: rotate(180deg) scale(1);
    opacity: 0.8;
  }
  75% {
    opacity: 0.6;
  }
  100% {
    transform: rotate(360deg) scale(0.8);
    opacity: 0.2;
  }
}

.sun-rays-container {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 120px;
  height: 120px;
  pointer-events: none;
  z-index: 3;
}

.sun-rays {
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 255, 0, 0.4) 0%, rgba(255, 193, 7, 0.3) 30%, rgba(255, 152, 0, 0.2) 50%, transparent 70%);
  animation: sunRays 15s ease-in-out infinite;
  border-radius: 50%;
  filter: blur(1px);
}

/* Fog Effect */
@keyframes fog {
  0% {
    transform: translateX(-150%);
    opacity: 0;
  }
  20% {
    opacity: 0.7;
  }
  80% {
    opacity: 0.7;
  }
  100% {
    transform: translateX(150%);
    opacity: 0;
  }
}

.fog-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 4;
  width: 100%;
  max-width: 100vw;
}

.fog-layer {
  position: absolute;
  width: 100%;
  max-width: 100vw;
  height: 120px;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.15) 20%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0.15) 80%, transparent 100%);
  animation: fog 20s ease-in-out infinite;
  filter: blur(2px);
}

.fog-layer:nth-child(1) {
  top: 15%;
  animation-delay: 0s;
  animation-duration: 25s;
}

.fog-layer:nth-child(2) {
  top: 35%;
  animation-delay: -8s;
  animation-duration: 30s;
}

.fog-layer:nth-child(3) {
  top: 55%;
  animation-delay: -16s;
  animation-duration: 22s;
}

/* Enhanced Weather Overlays for More Realistic Atmosphere */
.weather-overlay-sunny {
  background: linear-gradient(135deg, rgba(255, 193, 7, 0.15) 0%, rgba(255, 152, 0, 0.1) 50%, rgba(255, 87, 34, 0.05) 100%);
  backdrop-filter: brightness(1.1) contrast(1.05);
}

.weather-overlay-few-clouds {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(135, 206, 235, 0.08) 50%, rgba(255, 255, 255, 0.03) 100%);
  backdrop-filter: brightness(1.02) contrast(1.01);
}

.weather-overlay-scattered-clouds {
  background: linear-gradient(135deg, rgba(128, 128, 128, 0.1) 0%, rgba(135, 206, 235, 0.12) 50%, rgba(169, 169, 169, 0.08) 100%);
  backdrop-filter: brightness(0.98) contrast(1.02);
}

.weather-overlay-broken-clouds {
  background: linear-gradient(135deg, rgba(105, 105, 105, 0.15) 0%, rgba(119, 136, 153, 0.18) 50%, rgba(128, 128, 128, 0.12) 100%);
  backdrop-filter: brightness(0.95) contrast(1.03);
}

.weather-overlay-overcast {
  background: linear-gradient(135deg, rgba(105, 105, 105, 0.25) 0%, rgba(119, 136, 153, 0.3) 50%, rgba(105, 105, 105, 0.2) 100%);
  backdrop-filter: brightness(0.9) contrast(1.05) saturate(0.95);
}

.weather-overlay-drizzle {
  background: linear-gradient(135deg, rgba(70, 130, 180, 0.12) 0%, rgba(135, 206, 235, 0.15) 30%, rgba(173, 216, 230, 0.18) 60%, rgba(70, 130, 180, 0.1) 100%);
  backdrop-filter: brightness(0.92) contrast(1.08) saturate(1.1);
}

.weather-overlay-rainy {
  background: linear-gradient(135deg, rgba(70, 130, 180, 0.2) 0%, rgba(100, 149, 237, 0.25) 30%, rgba(135, 206, 235, 0.22) 60%, rgba(70, 130, 180, 0.18) 100%);
  backdrop-filter: brightness(0.88) contrast(1.12) saturate(1.15);
}

.weather-overlay-heavy-rain {
  background: linear-gradient(135deg, rgba(25, 25, 112, 0.3) 0%, rgba(70, 130, 180, 0.35) 30%, rgba(100, 149, 237, 0.32) 60%, rgba(25, 25, 112, 0.28) 100%);
  backdrop-filter: brightness(0.82) contrast(1.18) saturate(1.2);
}

.weather-overlay-stormy {
  background: linear-gradient(135deg, rgba(25, 25, 112, 0.4) 0%, rgba(72, 61, 139, 0.45) 20%, rgba(70, 130, 180, 0.35) 40%, rgba(25, 25, 112, 0.4) 60%, rgba(72, 61, 139, 0.38) 80%, rgba(25, 25, 112, 0.35) 100%);
  backdrop-filter: brightness(0.75) contrast(1.25) saturate(1.3);
  animation: stormyOverlay 3s ease-in-out infinite;
}

@keyframes stormyOverlay {
  0%,
  100% {
    filter: brightness(0.75) contrast(1.25);
  }
  50% {
    filter: brightness(0.7) contrast(1.3);
  }
}

.weather-overlay-snowy {
  background: linear-gradient(135deg, rgba(240, 248, 255, 0.2) 0%, rgba(230, 230, 250, 0.25) 30%, rgba(255, 250, 250, 0.22) 60%, rgba(240, 248, 255, 0.18) 100%);
  backdrop-filter: brightness(1.1) contrast(1.15) saturate(0.9);
}

.weather-overlay-foggy {
  background: linear-gradient(135deg, rgba(211, 211, 211, 0.3) 0%, rgba(192, 192, 192, 0.35) 30%, rgba(220, 220, 220, 0.32) 60%, rgba(211, 211, 211, 0.28) 100%);
  backdrop-filter: brightness(0.9) contrast(0.95) blur(1px);
}

/* Breathing effect for weather overlays */
@keyframes weatherBreathe {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.005);
  }
}

.weather-overlay-sunny,
.weather-overlay-few-clouds,
.weather-overlay-scattered-clouds,
.weather-overlay-broken-clouds,
.weather-overlay-overcast,
.weather-overlay-drizzle,
.weather-overlay-rainy,
.weather-overlay-heavy-rain,
.weather-overlay-snowy,
.weather-overlay-foggy {
  animation: weatherBreathe 10s ease-in-out infinite;
}

/* Special pulsing effect for stormy weather */
@keyframes stormyPulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  25% {
    opacity: 0.95;
    transform: scale(1.002);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.005);
  }
  75% {
    opacity: 0.95;
    transform: scale(1.002);
  }
}

.weather-overlay-stormy {
  animation: stormyPulse 4s ease-in-out infinite, stormyOverlay 3s ease-in-out infinite;
}

/* Enhanced backdrop effects */
.weather-overlay-rainy::before,
.weather-overlay-heavy-rain::before,
.weather-overlay-stormy::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at 50% 0%, rgba(70, 130, 180, 0.1) 0%, transparent 50%);
  pointer-events: none;
}

.weather-overlay-sunny::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at 80% 20%, rgba(255, 193, 7, 0.1) 0%, transparent 40%);
  pointer-events: none;
}

.weather-overlay-foggy::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(211, 211, 211, 0.2) 0%, rgba(192, 192, 192, 0.15) 50%, transparent 100%);
  pointer-events: none;
}

/* Performance optimizations */
.rain-container *,
.snow-container *,
.clouds-container *,
.fog-container *,
.lightning-container *,
.sun-rays-container * {
  will-change: transform;
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* Subtle pulse animation for weather overlays */
@keyframes weatherPulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
}

.weather-overlay-sunny,
.weather-overlay-rainy,
.weather-overlay-cloudy,
.weather-overlay-snowy,
.weather-overlay-stormy,
.weather-overlay-foggy {
  animation: weatherPulse 8s ease-in-out infinite;
}

/* Smooth scaling for better visual integration */
@keyframes gentleFloat {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-5px);
  }
}

.cloud {
  animation: clouds linear infinite, gentleFloat 6s ease-in-out infinite;
}

.cloud:nth-child(even) {
  animation-delay: 0s, 3s;
}

.cloud:nth-child(odd) {
  animation-delay: 0s, 1.5s;
}

/* Enhanced Rain Effects for Better Visual Appeal */

/* Ripple effects for rain impact */
@keyframes rainRipple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

/* Wind effects for stormy rain */
@keyframes windSway {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-10px);
  }
  75% {
    transform: translateX(5px);
  }
}

/* Add wind effect to storm rain container */
.rain-container.storm-rain {
  animation: windSway 4s ease-in-out infinite;
}

/* Enhanced lightning effects with glow */
.lightning-bolt::before {
  content: "";
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
  animation: lightningBolt 2.8s infinite;
  animation-delay: 0.8s;
}

/* Thunder sound wave effect */
@keyframes thunderWave {
  0% {
    transform: scale(1);
    opacity: 0;
  }
  10% {
    opacity: 0.3;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.lightning-bolt::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200px;
  height: 200px;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(1);
  animation: thunderWave 3s ease-out infinite;
  animation-delay: 1.2s;
}

/* Improved rain trail effect */
.rain-drop::before {
  content: "";
  position: absolute;
  top: -5px;
  left: 50%;
  width: 1px;
  height: 8px;
  background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.4));
  transform: translateX(-50%);
}

.rain-drop.stormy::before {
  height: 12px;
  background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.6));
}

/* Dynamic intensity scaling */
.rain-container.storm-rain .rain-drop:nth-child(odd) {
  animation-duration: 0.3s;
  width: 2.5px;
}

.rain-container.storm-rain .rain-drop:nth-child(even) {
  animation-duration: 0.4s;
  width: 2px;
}

.rain-container.storm-rain .rain-drop:nth-child(3n) {
  animation-duration: 0.25s;
  width: 3px;
  filter: blur(0.1px) brightness(1.2);
}

/* Enhanced storm atmosphere */
.storm-rain {
  filter: brightness(0.9) contrast(1.2) saturate(1.1);
}

/* Lightning reflection on rain drops */
.lightning-container:has(.lightning-flash[style*="opacity: 1"]) ~ .rain-container .rain-drop {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(173, 216, 230, 0.8), rgba(255, 255, 255, 0.4));
  filter: brightness(1.4);
  transition: all 0.1s ease-out;
}

/* Responsive Weather Effects */
@media (max-width: 768px) {
  .rain-drop {
    width: 1px;
  }

  .rain-drop.stormy {
    width: 1.5px;
  }

  .lightning-bolt {
    width: 60px;
    height: 90px;
    top: 10%;
    right: 8%;
  }

  .lightning-streak-1 {
    height: 30px;
  }

  .lightning-streak-2 {
    height: 45px;
  }

  .lightning-streak-3 {
    height: 25px;
  }
}

@media (max-width: 480px) {
  .rain-drop {
    width: 0.8px;
  }

  .rain-drop.stormy {
    width: 1.2px;
  }

  .lightning-bolt {
    width: 40px;
    height: 60px;
    top: 12%;
    right: 5%;
  }

  .lightning-streak {
    display: none; /* Hide streaks on very small screens for performance */
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .rain-drop {
    filter: blur(0.2px);
  }

  .lightning-bolt {
    filter: blur(0.3px) brightness(1.3);
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .rain-drop,
  .rain-drop.stormy {
    animation-duration: 3s !important;
  }

  .lightning-bolt,
  .lightning-flash,
  .lightning-streak {
    animation: none !important;
    opacity: 0.3 !important;
  }

  .rain-container.storm-rain {
    animation: none !important;
  }
}

/* Additional Realistic Weather Particle Effects */

/* Rain splash effects for ground impact */
@keyframes rainSplash {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  20% {
    transform: scale(1) rotate(180deg);
    opacity: 0.8;
  }
  100% {
    transform: scale(2) rotate(360deg);
    opacity: 0;
  }
}

.rain-container::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: repeating-linear-gradient(90deg, transparent 0px, rgba(255, 255, 255, 0.3) 2px, transparent 4px);
  animation: rainSplash 0.5s ease-out infinite;
  pointer-events: none;
}

/* Wind effect for leaves and debris */
@keyframes windLeaf {
  0% {
    transform: translateX(-50px) translateY(-20px) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.7;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    transform: translateX(calc(100vw + 50px)) translateY(100px) rotate(720deg);
    opacity: 0;
  }
}

.storm-rain::before {
  content: "🍃";
  position: absolute;
  top: 20%;
  left: -50px;
  font-size: 16px;
  animation: windLeaf 8s ease-in-out infinite;
  animation-delay: 2s;
  z-index: 3;
}

.storm-rain::after {
  content: "🍃";
  position: absolute;
  top: 40%;
  left: -50px;
  font-size: 12px;
  animation: windLeaf 12s ease-in-out infinite;
  animation-delay: 5s;
  z-index: 3;
  filter: opacity(0.7);
}

/* Enhanced sun ray effects */
@keyframes sunGlow {
  0% {
    transform: rotate(0deg) scale(0.8);
    opacity: 0.3;
  }
  25% {
    opacity: 0.6;
    transform: rotate(90deg) scale(1);
  }
  50% {
    transform: rotate(180deg) scale(1.1);
    opacity: 0.8;
  }
  75% {
    opacity: 0.6;
    transform: rotate(270deg) scale(1);
  }
  100% {
    transform: rotate(360deg) scale(0.8);
    opacity: 0.3;
  }
}

.sun-rays {
  background: radial-gradient(circle, rgba(255, 255, 0, 0.5) 0%, rgba(255, 193, 7, 0.4) 20%, rgba(255, 152, 0, 0.3) 40%, rgba(255, 87, 34, 0.2) 60%, transparent 80%);
  animation: sunGlow 20s ease-in-out infinite;
  position: relative;
}

.sun-rays::before {
  content: "";
  position: absolute;
  top: -20px;
  left: -20px;
  right: -20px;
  bottom: -20px;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(255, 255, 0, 0.1) 30deg,
    transparent 60deg,
    rgba(255, 193, 7, 0.1) 90deg,
    transparent 120deg,
    rgba(255, 152, 0, 0.1) 150deg,
    transparent 180deg,
    rgba(255, 255, 0, 0.1) 210deg,
    transparent 240deg,
    rgba(255, 193, 7, 0.1) 270deg,
    transparent 300deg,
    rgba(255, 152, 0, 0.1) 330deg,
    transparent 360deg
  );
  border-radius: 50%;
  animation: sunGlow 25s linear infinite reverse;
}

/* Fog density variations */
@keyframes fogDensity {
  0%,
  100% {
    filter: blur(1.5px);
    opacity: 0.6;
  }
  33% {
    filter: blur(2px);
    opacity: 0.8;
  }
  66% {
    filter: blur(2.5px);
    opacity: 0.7;
  }
}

.fog-layer {
  animation: fog 20s ease-in-out infinite, fogDensity 15s ease-in-out infinite;
}

.fog-layer:nth-child(1) {
  animation-delay: 0s, 2s;
}

.fog-layer:nth-child(2) {
  animation-delay: -8s, 7s;
}

.fog-layer:nth-child(3) {
  animation-delay: -16s, 12s;
}

/* Snow accumulation effect */
@keyframes snowAccumulate {
  0% {
    height: 0px;
    opacity: 0;
  }
  50% {
    opacity: 0.3;
  }
  100% {
    height: 3px;
    opacity: 0.6;
  }
}

.snow-container::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to right, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0.7) 100%);
  animation: snowAccumulate 30s ease-in forwards;
  border-radius: 1px 1px 0 0;
}

/* Thunder sound wave visualization */
@keyframes thunderRipple {
  0% {
    transform: scale(0);
    opacity: 0.8;
  }
  25% {
    opacity: 0.6;
  }
  50% {
    transform: scale(2);
    opacity: 0.3;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.lightning-container::before {
  content: "";
  position: absolute;
  top: 20%;
  right: 15%;
  width: 100px;
  height: 100px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  animation: thunderRipple 2s ease-out infinite;
  animation-delay: 1.2s;
}

.lightning-container::after {
  content: "";
  position: absolute;
  top: 20%;
  right: 15%;
  width: 100px;
  height: 100px;
  border: 1px solid rgba(173, 216, 230, 0.4);
  border-radius: 50%;
  animation: thunderRipple 2s ease-out infinite;
  animation-delay: 1.5s;
}

/* Improved cloud shadows */
.cloud {
  position: relative;
}

.cloud::after {
  content: "";
  position: absolute;
  top: 15px;
  left: 5px;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.1);
  border-radius: inherit;
  filter: blur(3px);
  z-index: -1;
}

/* Seasonal color variations */
.weather-overlay-snowy .rain-drop,
.weather-overlay-snowy .snow-flake {
  filter: hue-rotate(200deg) brightness(1.2);
}

.weather-overlay-sunny .cloud {
  filter: brightness(1.3) saturate(1.2);
}

.weather-overlay-stormy .cloud {
  filter: brightness(0.7) contrast(1.4) saturate(0.8);
}

/* Performance optimizations for mobile */
@media (max-width: 768px) {
  .rain-container::after,
  .snow-container::after,
  .lightning-container::before,
  .lightning-container::after,
  .storm-rain::before,
  .storm-rain::after {
    display: none;
  }

  .sun-rays::before {
    display: none;
  }

  .cloud::after {
    filter: blur(1px);
  }
}

/* High performance mode for older devices */
@media (max-width: 480px) {
  .rain-drop,
  .snow-flake,
  .cloud {
    animation-duration: 2s !important;
  }

  .lightning-bolt,
  .lightning-flash {
    animation-duration: 1s !important;
  }

  .fog-layer {
    display: none;
  }
}
